{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/user/Documents/GitHub/remotesports/client/src/components/SearchFirestore/SearchFirestore.js\";\nimport React, { Component } from \"react\";\nimport { db } from \"../../firebase\";\nimport AsyncSelect from \"react-select/async\";\nimport { Button } from \"@material-ui/core\";\nimport { Table } from \"react-bootstrap\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\n\nclass SearchFirestore extends Component {\n  constructor(props) {\n    super(props);\n\n    this.mySubmitHandler = event => {\n      const docRef = db.collection(\"users\").doc(event.value);\n      docRef.get().then(doc => {\n        if (doc.exists) {\n          // Evitar Duplicados\n          // TODO //\n          this.state.data.push(doc.data());\n          console.log(this.state.data);\n        } else {\n          console.log(\"No such document!\");\n        }\n      }).catch(function (error) {\n        console.log(\"Error getting document:\", error);\n      });\n    };\n\n    this.loadOptions = async inputValue => {\n      inputValue = inputValue.toLowerCase().replace(/\\W/g, \"\");\n      return new Promise(resolve => {\n        db.collection(\"users\").orderBy(\"email\").startAt(inputValue).endAt(inputValue + \"\\uf8ff\").get().then(docs => {\n          if (!docs.empty) {\n            let recommendedTags = [];\n            docs.forEach(function (doc) {\n              const tag = {\n                value: doc.id,\n                label: doc.data().email\n              };\n              recommendedTags.push(tag);\n            });\n            return resolve(recommendedTags);\n          } else {\n            return resolve([]);\n          }\n        });\n      });\n    };\n\n    this.handleOnChange = tags => {\n      this.setState({\n        selectedTag: [tags]\n      });\n    };\n\n    this.getRows = () => {\n      let rows = [];\n      if (this.state.data) this.state.data.map(element => {\n        rows.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: element.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: element.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: element.school\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: element => this.handleDeleteRow(element),\n              children: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, element, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this));\n      });\n      return rows;\n    };\n\n    this.state = {\n      selectedTag: [],\n      data: []\n    };\n  }\n\n  handleDeleteRow(i) {\n    console.log(i.name);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pl-5 pr-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Search Student by Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AsyncSelect, {\n          loadOptions: this.loadOptions,\n          onChange: this.handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), this.state.selectedTag.map((e, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.mySubmitHandler(e),\n              variant: \"contained\",\n              color: \"primary\",\n              style: {\n                margin: \"20px\"\n              },\n              children: \"ADD STUDENT TO CLASS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pl-5 pr-5 pt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center\",\n          children: \"CLASS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"School\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.getRows()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default SearchFirestore;","map":{"version":3,"sources":["/Users/user/Documents/GitHub/remotesports/client/src/components/SearchFirestore/SearchFirestore.js"],"names":["React","Component","db","AsyncSelect","Button","Table","DeleteOutlined","SearchFirestore","constructor","props","mySubmitHandler","event","docRef","collection","doc","value","get","then","exists","state","data","push","console","log","catch","error","loadOptions","inputValue","toLowerCase","replace","Promise","resolve","orderBy","startAt","endAt","docs","empty","recommendedTags","forEach","tag","id","label","email","handleOnChange","tags","setState","selectedTag","getRows","rows","map","element","name","school","handleDeleteRow","i","render","e","index","margin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { db } from \"../../firebase\";\nimport AsyncSelect from \"react-select/async\";\nimport { Button } from \"@material-ui/core\";\nimport { Table } from \"react-bootstrap\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\n\nclass SearchFirestore extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedTag: [],\n      data: [],\n    };\n  }\n\n  mySubmitHandler = (event) => {\n    const docRef = db.collection(\"users\").doc(event.value);\n\n    docRef\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          // Evitar Duplicados\n          // TODO //\n          this.state.data.push(doc.data())\n          console.log(this.state.data);\n        } else {\n          console.log(\"No such document!\");\n        }\n      })\n      .catch(function (error) {\n        console.log(\"Error getting document:\", error);\n      });\n  };\n\n  loadOptions = async (inputValue) => {\n    inputValue = inputValue.toLowerCase().replace(/\\W/g, \"\");\n    return new Promise((resolve) => {\n      db.collection(\"users\")\n        .orderBy(\"email\")\n        .startAt(inputValue)\n        .endAt(inputValue + \"\\uf8ff\")\n        .get()\n        .then((docs) => {\n          if (!docs.empty) {\n            let recommendedTags = [];\n            docs.forEach(function (doc) {\n              const tag = {\n                value: doc.id,\n                label: doc.data().email,\n              };\n              recommendedTags.push(tag);\n            });\n            return resolve(recommendedTags);\n          } else {\n            return resolve([]);\n          }\n        });\n    });\n  };\n\n  handleOnChange = (tags) => {\n    this.setState({\n      selectedTag: [tags],\n    });\n  };\n\n  handleDeleteRow(i) {\n    console.log(i.name);\n  }\n\n  getRows = () => {\n    let rows = [];\n\n    if (this.state.data)\n      this.state.data.map(element => {\n        rows.push(\n          <tr key={element}>\n            <td>{element.name}</td>\n            <td>{element.email}</td>\n            <td>{element.school}</td>\n            <td>\n              <Button onClick={(element) => this.handleDeleteRow(element)}>\n                <DeleteOutlined />\n              </Button>\n            </td>\n          </tr>\n        );\n      });\n\n    return rows;\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"pl-5 pr-5\">\n          <h3>Search Student by Email:</h3>\n          <AsyncSelect\n            loadOptions={this.loadOptions}\n            onChange={this.handleOnChange}\n          />\n          {this.state.selectedTag.map((e, index) => {\n            return (\n              <div>\n                <Button\n                  onClick={this.mySubmitHandler(e)}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  style={{ margin: \"20px\" }}\n                >\n                  ADD STUDENT TO CLASS\n                </Button>\n              </div>\n            );\n          })}\n        </div>\n        <div className=\"pl-5 pr-5 pt-5\">\n          \n          <h4 className=\"text-center\">CLASS</h4>\n          <Table>\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Email</th>\n                <th>School</th>\n                <th>Delete</th>\n              </tr>\n            </thead>\n            <tbody>\n            {this.getRows()}\n            </tbody>\n          </Table>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default SearchFirestore;\n"]},"metadata":{},"sourceType":"module"}