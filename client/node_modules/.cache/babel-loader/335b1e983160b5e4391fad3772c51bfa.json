{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/user/GitHub/remotesports/client/src/pages/MainPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"../css/MainPage.css\";\nimport { Input, Button } from \"@material-ui/core\";\nimport { v1 as uuid } from \"uuid\";\nimport MenuProfessor from \"../components/MenuProfessor/MenuProfessor\";\nimport { useSelector } from \"react-redux\";\nimport { auth, db, storage } from \"../firebase\";\nimport profile from \"../assets/blankprofilepicture.png\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuAluno from \"../components/MenuAluno/MenuAluno\";\n\nconst MainPage = props => {\n  _s();\n\n  const [url, setURL] = useState(\"\");\n  const [urlPhoto, setUrlPhoto] = useState(\"\");\n  const [tipoPerfil, setTipoPerfil] = useState(\"\");\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [name, setName] = useState(\"\");\n\n  const create = () => {\n    if (url !== \"\") {\n      props.history.push(`${url}`);\n    } else {\n      const id = uuid();\n      props.history.push(`/room/${id}`);\n    }\n  };\n\n  const hideImg = () => {\n    var img = document.getElementById(\"myimg\");\n    img.src = profile;\n  };\n\n  var docRef = db.collection(\"users\").doc(auth.currentUser.uid);\n  docRef.get().then(function (doc) {\n    if (doc.exists) {\n      if (doc.data) {\n        setTipoPerfil(doc.data().isTeacher);\n        setName(doc.data().name);\n        const email = JSON.stringify(doc.data().email);\n        const isTeacher = JSON.stringify(doc.data().isTeacher);\n        localStorage.setItem(\"isTeacher\", isTeacher);\n        localStorage.setItem(\"email\", email);\n      }\n    } else {\n      console.log(\"No such document!\");\n    }\n  }).catch(function (error) {\n    console.log(\"Error getting document:\", error);\n  }); // Create a reference to the file we want to download\n\n  var starsRef = storage.ref(\"images\").child(auth.currentUser.uid).child(\"profileImage\"); // Get the download URL\n\n  starsRef.getDownloadURL().then(function (urlPhoto) {\n    var img = document.getElementById(\"myimg\");\n    setUrlPhoto(urlPhoto);\n    img.src = urlPhoto;\n  }).catch(function (error) {\n    switch (error.code) {\n      case \"storage/object-not-found\":\n        var img = document.getElementById(\"myimg\");\n        img.src = profile;\n        break;\n\n      case \"storage/unauthorized\":\n        console.log(error.code);\n        var img = document.getElementById(\"myimg\");\n        img.src = profile;\n        break;\n\n      case \"storage/canceled\":\n        console.log(error.code);\n        var img = document.getElementById(\"myimg\");\n        img.src = profile;\n        break;\n\n      case \"storage/unknown\":\n        console.log(error.code);\n        var img = document.getElementById(\"myimg\");\n        img.src = profile;\n        break;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center pt-3\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: 250,\n          height: 250,\n          borderRadius: \"50%\"\n        },\n        id: \"myimg\",\n        src: profile,\n        alt: \"profile\",\n        onError: hideImg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center pt-3\",\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        gutterBottom: true,\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      id: \"hr\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      id: \"joinRoom\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          alignContent: \"center\",\n          margin: 0,\n          fontWeight: \"bold\",\n          paddingRight: \"50px\"\n        },\n        children: \"Start or join a meeting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"URL\",\n        onChange: e => setURL(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: create,\n        style: {\n          margin: \"20px\"\n        },\n        children: \"Go\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cointainer2 text-center pb-5\",\n      children: tipoPerfil == \"true\" ? /*#__PURE__*/_jsxDEV(MenuProfessor, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 33\n      }, this) : /*#__PURE__*/_jsxDEV(MenuAluno, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 53\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MainPage, \"bfXKWIvmopgz67HBjOpx7MTTvEw=\", false, function () {\n  return [useSelector];\n});\n\n_c = MainPage;\nexport default MainPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"sources":["/Users/user/GitHub/remotesports/client/src/pages/MainPage.js"],"names":["React","useState","Input","Button","v1","uuid","MenuProfessor","useSelector","auth","db","storage","profile","Typography","MenuAluno","MainPage","props","url","setURL","urlPhoto","setUrlPhoto","tipoPerfil","setTipoPerfil","user","state","name","setName","create","history","push","id","hideImg","img","document","getElementById","src","docRef","collection","doc","currentUser","uid","get","then","exists","data","isTeacher","email","JSON","stringify","localStorage","setItem","console","log","catch","error","starsRef","ref","child","getDownloadURL","code","width","height","borderRadius","alignContent","margin","fontWeight","paddingRight","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"../css/MainPage.css\";\nimport { Input, Button } from \"@material-ui/core\";\nimport { v1 as uuid } from \"uuid\";\nimport MenuProfessor from \"../components/MenuProfessor/MenuProfessor\";\nimport { useSelector } from \"react-redux\";\nimport { auth, db, storage } from \"../firebase\";\nimport profile from \"../assets/blankprofilepicture.png\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuAluno from \"../components/MenuAluno/MenuAluno\"\n\nconst MainPage = (props) => {\n  const [url, setURL] = useState(\"\");\n  const [urlPhoto, setUrlPhoto] = useState(\"\");\n  const [tipoPerfil, setTipoPerfil] = useState(\"\");\n  const { user } = useSelector((state) => ({ ...state }));\n  const [name, setName] = useState(\"\");\n\n  const create = () => {\n    if (url !== \"\") {\n      props.history.push(`${url}`);\n    } else {\n      const id = uuid();\n      props.history.push(`/room/${id}`);\n    }\n  };\n\n  const hideImg = () => {\n    var img = document.getElementById(\"myimg\");\n    img.src = profile;\n  };\n\n  var docRef = db.collection(\"users\").doc(auth.currentUser.uid);\n\n  docRef\n    .get()\n    .then(function (doc) {\n      if (doc.exists) {\n        if (doc.data) {\n          setTipoPerfil(doc.data().isTeacher);\n          setName(doc.data().name);\n          const email = JSON.stringify(doc.data().email);\n          const isTeacher = JSON.stringify(doc.data().isTeacher);\n          localStorage.setItem(\"isTeacher\", isTeacher);\n          localStorage.setItem(\"email\", email);\n        }\n      } else {\n        console.log(\"No such document!\");\n      }\n    })\n    .catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n\n  // Create a reference to the file we want to download\n  var starsRef = storage\n    .ref(\"images\")\n    .child(auth.currentUser.uid)\n    .child(\"profileImage\");\n\n  // Get the download URL\n  starsRef\n    .getDownloadURL()\n    .then(function (urlPhoto) {\n      var img = document.getElementById(\"myimg\");\n      setUrlPhoto(urlPhoto);\n      img.src = urlPhoto;\n    })\n    .catch(function (error) {\n      switch (error.code) {\n        case \"storage/object-not-found\":\n          var img = document.getElementById(\"myimg\");\n          img.src = profile;\n          break;\n\n        case \"storage/unauthorized\":\n          console.log(error.code);\n          var img = document.getElementById(\"myimg\");\n          img.src = profile;\n          break;\n\n        case \"storage/canceled\":\n          console.log(error.code);\n          var img = document.getElementById(\"myimg\");\n          img.src = profile;\n          break;\n\n        case \"storage/unknown\":\n          console.log(error.code);\n          var img = document.getElementById(\"myimg\");\n          img.src = profile;\n          break;\n      }\n    });\n\n  return (\n    <>\n      <div className=\"text-center pt-3\">\n        <img\n          style={{ width: 250, height: 250, borderRadius: \"50%\" }}\n          id=\"myimg\"\n          src={profile}\n          alt=\"profile\"\n          onError={hideImg}\n        />\n      </div>\n      <div className=\"text-center pt-3\">\n        <Typography variant=\"h3\" gutterBottom>\n          {name}\n        </Typography>\n      </div>\n      <hr id=\"hr\" />\n      <div className=\"text-center\" id=\"joinRoom\">\n        <p\n          style={{\n            alignContent: \"center\",\n            margin: 0,\n            fontWeight: \"bold\",\n            paddingRight: \"50px\",\n          }}\n        >\n          Start or join a meeting\n        </p>\n        <Input placeholder=\"URL\" onChange={(e) => setURL(e.target.value)} />\n        <br />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={create}\n          style={{ margin: \"20px\" }}\n        >\n          Go\n        </Button>\n      </div>\n      <div className=\"cointainer2 text-center pb-5\">\n        {tipoPerfil == \"true\" ? <MenuProfessor /> : <MenuAluno />}\n      </div>\n    </>\n  );\n};\n\nexport default MainPage;\n"]},"metadata":{},"sourceType":"module"}