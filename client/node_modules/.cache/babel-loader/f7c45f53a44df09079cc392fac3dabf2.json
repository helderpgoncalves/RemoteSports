{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/user/GitHub/remotesports/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/user/GitHub/remotesports/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/user/GitHub/remotesports/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{auth}from\"../../firebase\";import{toast}from\"react-toastify\";import{Button}from\"antd\";import{UserAddOutlined}from\"@ant-design/icons\";import\"../../css/Register.css\";var Register=function Register(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var config;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();config={// URL you want to redirect back to. The domain (www.example.com) for this\n// URL must be in the authorized domains list in the Firebase Console.\n// process para aceder as variaveis env\nurl:process.env.REACT_APP_REGISTER_REDIRECT_URL,handleCodeInApp:true};_context.next=4;return auth.sendSignInLinkToEmail(email,config).then(function(){toast.success(\"\\uD83D\\uDE80 Perfect! Now you must check the \".concat(email,\" inbox to finalise your registration!\"),{position:\"top-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});// Guardar utilizador no local storage\nwindow.localStorage.setItem(\"emailForRegistration\",email);// Limpar o state\nsetEmail(\"\");}).catch(function(error){toast.error(\"\\uD83D\\uDE25 \".concat(error,\" Please try again!\"),{position:\"top-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setEmail(\"\");});case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();// Esta separaÃ§Ã£o Ã© para melhor compreensÃ£o do cÃ³digo\n// Regras - Clean Code\n// Assim  o return nao fica super extenso\nvar RegisterForm=function RegisterForm(){return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},autoFocus:true,placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,type:\"primary\",className:\"mb-3\",shape:\"round\",block:true,icon:/*#__PURE__*/_jsx(UserAddOutlined,{}),size:\"large\",disabled:!email,children:\"Register with Email\"})]});};return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container p-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 offset-md-3\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New Account\"}),RegisterForm()]})})})});};export default Register;","map":{"version":3,"sources":["/Users/user/GitHub/remotesports/client/src/pages/auth/Register.js"],"names":["React","useState","auth","toast","Button","UserAddOutlined","Register","email","setEmail","handleSubmit","e","preventDefault","config","url","process","env","REACT_APP_REGISTER_REDIRECT_URL","handleCodeInApp","sendSignInLinkToEmail","then","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","window","localStorage","setItem","catch","error","RegisterForm","target","value"],"mappings":"4iBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,gBAArB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,MAAT,KAAuB,MAAvB,CACA,OAASC,eAAT,KAAgC,mBAAhC,CACA,MAAO,wBAAP,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,eACKL,QAAQ,CAAC,EAAD,CADb,wCACdM,KADc,eACPC,QADO,eAGrB,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,6HACnBA,CAAC,CAACC,cAAF,GACMC,MAFa,CAEJ,CAEb;AACA;AACA;AAEAC,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,+BANJ,CAObC,eAAe,CAAE,IAPJ,CAFI,uBAYbf,CAAAA,IAAI,CACPgB,qBADG,CACmBX,KADnB,CAC0BK,MAD1B,EAEHO,IAFG,CAEE,UAAY,CAChBhB,KAAK,CAACiB,OAAN,wDACwCb,KADxC,0CAEE,CACEc,QAAQ,CAAE,WADZ,CAEEC,SAAS,CAAE,IAFb,CAGEC,eAAe,CAAE,KAHnB,CAIEC,YAAY,CAAE,IAJhB,CAKEC,YAAY,CAAE,IALhB,CAMEC,SAAS,CAAE,IANb,CAOEC,QAAQ,CAAEC,SAPZ,CAFF,EAaA;AACAC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,sBAA5B,CAAoDxB,KAApD,EAEA;AACAC,QAAQ,CAAC,EAAD,CAAR,CACD,CArBG,EAsBHwB,KAtBG,CAsBG,SAAUC,KAAV,CAAiB,CACtB9B,KAAK,CAAC8B,KAAN,wBAAkBA,KAAlB,uBAA6C,CAC3CZ,QAAQ,CAAE,WADiC,CAE3CC,SAAS,CAAE,IAFgC,CAG3CC,eAAe,CAAE,KAH0B,CAI3CC,YAAY,CAAE,IAJ6B,CAK3CC,YAAY,CAAE,IAL6B,CAM3CC,SAAS,CAAE,IANgC,CAO3CC,QAAQ,CAAEC,SAPiC,CAA7C,EAUApB,QAAQ,CAAC,EAAD,CAAR,CACD,CAlCG,CAZa,uDAAH,kBAAZC,CAAAA,YAAY,4CAAlB,CAiDA;AACA;AACA;AAEA,GAAMyB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,sBACnB,cAAM,QAAQ,CAAEzB,YAAhB,wBACE,cACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,SAAS,CAAC,cAHZ,CAIE,KAAK,CAAEF,KAJT,CAKE,QAAQ,CAAE,kBAACG,CAAD,QAAOF,CAAAA,QAAQ,CAACE,CAAC,CAACyB,MAAF,CAASC,KAAV,CAAf,EALZ,CAME,SAAS,KANX,CAOE,WAAW,CAAC,OAPd,EADF,cAUE,aAVF,cAWE,KAAC,MAAD,EACE,OAAO,CAAE3B,YADX,CAEE,IAAI,CAAC,SAFP,CAGE,SAAS,CAAC,MAHZ,CAIE,KAAK,CAAC,OAJR,CAKE,KAAK,KALP,CAME,IAAI,cAAE,KAAC,eAAD,IANR,CAOE,IAAI,CAAC,OAPP,CAQE,QAAQ,CAAE,CAACF,KARb,iCAXF,GADmB,EAArB,CA0BA,mBACE,YAAK,SAAS,CAAC,SAAf,uBACA,YAAK,SAAS,CAAC,eAAf,uBACE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,0CADF,CAEG2B,YAAY,EAFf,GADF,EADF,EADA,EADF,CAYD,CA9FD,CAgGA,cAAe5B,CAAAA,QAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { Button } from \"antd\";\nimport { UserAddOutlined } from \"@ant-design/icons\";\nimport \"../../css/Register.css\"\n\nconst Register = () => {\n  const [email, setEmail] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const config = {\n      \n      // URL you want to redirect back to. The domain (www.example.com) for this\n      // URL must be in the authorized domains list in the Firebase Console.\n      // process para aceder as variaveis env\n\n      url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\n      handleCodeInApp: true,\n    };\n\n    await auth\n      .sendSignInLinkToEmail(email, config)\n      .then(function () {\n        toast.success(\n          `ðŸš€ Perfect! Now you must check the ${email} inbox to finalise your registration!`,\n          {\n            position: \"top-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n          }\n        );\n\n        // Guardar utilizador no local storage\n        window.localStorage.setItem(\"emailForRegistration\", email);\n\n        // Limpar o state\n        setEmail(\"\");\n      })\n      .catch(function (error) {\n        toast.error(`ðŸ˜¥ ${error} Please try again!`, {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n\n        setEmail(\"\");\n      });\n  };\n\n  // Esta separaÃ§Ã£o Ã© para melhor compreensÃ£o do cÃ³digo\n  // Regras - Clean Code\n  // Assim  o return nao fica super extenso\n\n  const RegisterForm = () => (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"email\"\n        name=\"email\"\n        className=\"form-control\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        autoFocus\n        placeholder=\"Email\"\n      />\n      <br />\n      <Button\n        onClick={handleSubmit}\n        type=\"primary\"\n        className=\"mb-3\"\n        shape=\"round\"\n        block\n        icon={<UserAddOutlined />}\n        size=\"large\"\n        disabled={!email}\n      >Register with Email\n      </Button>\n    </form>\n  );\n\n  return (\n    <div className=\"wrapper\">\n    <div className=\"container p-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">\n          <h3>Create New Account</h3>\n          {RegisterForm()}\n        </div>\n      </div>\n    </div>\n    </div>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}